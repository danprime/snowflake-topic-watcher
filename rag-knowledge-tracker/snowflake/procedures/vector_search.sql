
CREATE OR REPLACE FUNCTION vector_similarity(v1 ARRAY, v2 ARRAY)
RETURNS FLOAT
AS 'SELECT CAST(DOT_PRODUCT(v1, v2) / (SQRT(DOT_PRODUCT(v1, v1)) * SQRT(DOT_PRODUCT(v2, v2))) AS FLOAT)';
